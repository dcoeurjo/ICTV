<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>ICTV</title>

		<meta name="description" content="Based on a framework by Hakim El Hattab">
		<meta name="author" content="Helene Perrier, Jeremy Levallois">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/kha_solarized.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!--MathJax-->
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			TeX: {
				extensions: ["color.js","tex2jax.js"],
				Macros: {
          R: '\\mathbb{R}',
					vx: '\\mathbf{x}',
					vy: '\\mathbf{y}'
				},
				tex2jax: {
					inlineMath: [ ['$','$'], ["\\(","\\)"] ],
					displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
					processEscapes: true
				}
			},
			skipStartupTypeset: true
		});
		</script>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

                                <!-- Slide 1 -->
				<section>
                                        <!--<img src="img/logo_liris.svg" height="50" class="imgNoBorder" style="float: left;"/>
                                        <img src="img/logo_lama.svg" height="70" class="imgNoBorder" style="float:right;"/>-->
                                        <img src="img/logos.svg" width="50%" class="imgNoBorder" /><br/>
					<h1 style="clear:both;">Interactive Curvature Tensor visualization</h1>
					<p>
						<small>
						<a href="">Helene Perrier</a> &nbsp;
						<a href="">Jeremy Levallois</a> &nbsp;
						<a href="">David Coeurjolly</a> <br/>
						<a href="">Jean-Philippe Farrugia</a> &nbsp;
						<a href="">Jean-Claude Iehl</a> &nbsp;
						<a href="">Jacques-Olivier Lachaud</a>
						</small><br/>
					</p>

					<img src="img/teaser.png" width="300" class="imgNoBorder" /><br/>

                                        <!--<img src="img/logo_anr.svg" height="35" class="imgNoBorder" style="float: left;"/>
                                        <img src="img/DGtalLogo.png" height="35" class="imgNoBorder" style="float:right;"/>-->

					<footer>
						\(
						%%%% If you see this, MathJax wasn't loaded ...
						\definecolor{myred}{RGB}{231,76,60}
						\definecolor{mydarkred}{RGB}{166,51,38}
						\definecolor{mygreen}{RGB}{38,166,115}
						\definecolor{myblue}{RGB}{23,110,179}
						\definecolor{mylightblue}{RGB}{104,171,216}
						\definecolor{myyellow}{RGB}{101,103,10}
						\definecolor{mygrey}{RGB}{101,123,131}
						\definecolor{mynormal}{RGB}{41,128,185}
						\newcommand{\Z}{{\mathbb{Z}}}
						\newcommand{\N}{{\mathbb{N}}}
						\newcommand{\R}{{\mathbb{R}}}
						\newcommand{\M}{\mathcal{M}}
						\newcommand{\B}{\mathcal{B}_R}

						\newcommand{\BT}[1]{{\partial #1}}
						\newcommand{\Bd}[1]{{\partial #1}}
						\newcommand{\dS}{\BT X}
						\newcommand{\Body}[2]{{\lbrack #1 \rbrack_{#2}}}

						\newcommand{\Shape}{{X}}
						\newcommand{\DigShape}{{Z}}
						\newcommand{\Boundary}[1]{{\partial #1}}
						\newcommand{\DigBoundary}[1]{{Bd(#1)}}
						\newcommand{\Shapes}{{\mathbb{X}}}
						\newcommand{\vx}{{\mathbf{x}}}
						\newcommand{\vz}{{\mathbf{z}}}
						\newcommand{\vxH}{{\hat{\mathbf{x}}}}
						\newcommand{\vp}{{\mathbf{p}}}
						\newcommand{\vw}{{\mathbf{w}}}
						\newcommand{\vn}{{\mathbf{n}}}
						\newcommand{\Dig}{{\mathtt{G}}}
						\newcommand{\DigF}[2]{{\Dig_{#2}\left(#1\right)}}
						\newcommand{\DSh}{\DigF{\Shape}{h}}

						\newcommand{\MCard}{{\mathrm{Card}}}
						\newcommand{\Area}{{\mathrm{Area}}}
						\newcommand{\Vol}{{\mathrm{Vol}}}
						\newcommand{\AreaC}[0]{{\widehat{\Area}}}
						\newcommand{\VolC}[0]{{\widehat{\Vol}}}
						\newcommand{\Ball}[2]{{B_{#1}\left(#2\right)}}
						\newcommand{\Mom}[1]{{m^{#1}}}
						\newcommand{\DMom}[2]{{\hat{m}_{#2}^{#1}}}

						%% Curvature notations
						\newcommand{\Curv}{{\kappa}}
						\newcommand{\MeanCurv}{{H}}
						\newcommand{\GaussCurv}{{K}}
						\newcommand{\PrincCurv}[1]{{\kappa_{#1}}}
						\newcommand{\PrincDir}[1]{{\vw_{#1}}}
						\newcommand{\NormalDir}{{\vn}}

						%% Pottmann curvature estimators
						\newcommand{\CurvT}[1]{{\tilde{\Curv}^{#1}}}
						\newcommand{\MeanCurvT}[1]{{\tilde{\MeanCurv}^{#1}}}
						\newcommand{\GaussCurvT}[1]{{\tilde{\GaussCurv}^{#1}}}
						\newcommand{\PrincCurvT}[2]{{\tilde{\PrincCurv{}}_{#1}^{#2}}}
						\newcommand{\PrincDirT}[2]{{\tilde{\PrincDir{}}_{#1}^{#2}}}
						\newcommand{\NormalDirT}[1]{{\tilde{\NormalDir{}}^{#1}}}

						%% II curvature estimators
						\newcommand{\CurvH}[1]{{\hat{\Curv}^{#1}}}
						\newcommand{\MeanCurvH}[1]{{\hat{\MeanCurv}^{#1}}}
						\newcommand{\GaussCurvH}[1]{{\hat{\GaussCurv}^{#1}}}
						\newcommand{\PrincCurvH}[2]{{\hat{\PrincCurv{}}_{#1}^{#2}}}
						\newcommand{\PrincDirH}[2]{{\hat{\PrincDir{}}_{#1}^{#2}}}
						\newcommand{\NormalDirH}[1]{{\hat{\NormalDir{}}^{#1}}}

						%%Formulas
						\newcommand{\EqDef}{\!{\mathrel{\mathop:}=}\!}
						\)
					</footer>

                                        <aside class="notes">
                                        Hi everyone, my name is Helene and i'm going to present our work about Interactive curvature visualisation.
                                        </aside>

				</section>

                                <!-- Slide 2 -->
				<section>
					<h2>Analysing Digital Datasets</h2>
					<img align="right" src="img/Snow_NoColor.png" width="500" class="imgNoBorder" />
					<p align="left"><br/>Output for most scanners</p>
                                        <ul align="left">
                                                <li align="left"/> MRI
                                                <li align="left"/> Microtomographic scanners
                                                <li align="left"/> ...
					</ul>
					<p align="left">Complex objects</p>
                                        <ul align="left">
                                            <li align="left"/> e.g. Snow Microstructures
                                        </ul>
					<p align="left">Huge size</p>
                                        <ul align="left">
                                            <li align="left"/> 1024³
                                        </ul>
                                        <p align="left"><b>Difficult to analyze</b></p>

                                        <aside class="notes">
                                        ++ example the snow microstructure presented on the right.<br/>
                                            -> output from a microtomographic scanner.<br/>
                                            -> covers a few mm with 1024^3 digital points.<br/>
                                        </aside>

				</section>

                                <!-- Slide 3 -->
				<section>
					<h2>Analysing Digital Datasets</h2>
                                        <p align="left" >Curvature Tensors</p>
                                        <p align="left" >Used in material sciences, physics ...</p>
					<div style="width:50%;text-align:center;float:left;font-size:70%;">
					<img height="400" src="img/Snow_mean.png" class="imgNoBorder" />
					</div>
					<div style="width:50%;text-align:center;float:right;font-size:70%;">
					<img height="182" src="img/E2bis-prindir-bleu.png" class="imgNoBorder" /><br/>
					<img height="182" src="img/E2bis-prindir-rouge.png" class="imgNoBorder" />
					</div>

                                        <aside class="notes">
                                       ++ Snow microstructure example, tensor can be used to detect snow getting smoother, while melting f.e.
                                        </aside>

				</section>

                                <!-- Slide 4 -->
				<section>
					<h2>Digital Curvature</h2>
					<p align="left" >There is a wide number of <b>curvature estimators</b> for digital objects</p>
					<p align="left" >But a vast majority of them perform local computations, and rely on <b>parameters</b> acting as a SNR...</p>
					<ul>
						<li>Sphere radius <small><a href="http://dx.doi.org/10.1016/j.cviu.2014.04.013">[CLL14]</a></small></li>
						<li>Neighbourhood window <small><a href="http://dx.doi.org/10.1016/j.cagd.2004.09.004">[CP05]</a></small></li>
						<li>Convolution kernel <small><a href="http://dx.doi.org/10.1007/978-3-540-79126-3_33">[MBF08]</a></small></li>
					</ul>
					<div class="fragment">
                                        <p align="left"><b>from which depends the quality of the result <small><a href="http://dx.doi.org/10.1016/j.cviu.2014.04.013">[CLL14]</a></small></b></p>
					<p style="width:100%; text-align:center;">
						<img class="imgNoBorder" style="width:15%;" src="img/MeanAl_4.png" />
						<img class="imgNoBorder" style="width:15%;" src="img/MeanAl_10.png" />
						<img class="imgNoBorder" style="width:15%;" src="img/MeanAl_17.png" />
						<img class="imgNoBorder" style="width:15%;" src="img/MeanAl_25.png" />
					</p>
					<p style="width:100%;padding-left:20%;padding-right:20%;margin-top:-40px;text-align:center;">
						<span style="width:15.5%;text-align:center;float:left;font-size:70%;">$R=4$</span>
						<span style="width:15.5%;text-align:center;float:left;font-size:70%;">$R=7$</span>
						<span style="width:15.5%;text-align:center;float:left;font-size:70%;">$R=10$</span>
						<span style="width:15.5%;text-align:center;float:left;font-size:70%;">$R=12$</span>
					</p></div>

                                        <aside class="notes">
                                        ++ Acts as a SNR, the bigger the neighbourhood the more the object will be smoothed<br/>
                                        ++ Example with Integral Invariants, using a sphere radius on Al<br/>
                                        </aside>

				</section>

                                 <!-- Slide 5 -->
				<section>
					<h2>Issues</h2>
					<p align="left">Computing the curvature is a <b>long</b> process due to the huge size of the datasets</p>
					<p align="left">Choosing the <b>correct parameterization</b> for an estimation is sometimes difficult</p>
                                        <p align="left" class="fragment" data-fragment-index="1" >Our contribution, an <b>interactive exploration of parameters</b></p>
                                        <img align="center" src="img/appli.gif" height="300" class="imgNoBorder fragment" data-fragment-index="1" />
				</section>

				<section>
						<h2>Pipeline</h2>

						<p align="left">Interactive vizualization requires <b>two steps</b> ... </p>
						<ul>
                                                <li class="fragment" data-fragment-index="1"/>Extract a <b>mesh for visualization</b> purposes
                                                <li class="fragment" data-fragment-index="2"/>Compute the <b>curvature value on the digital object</b> and display it on the mesh
						</ul>
                                                <p class="fragment" align="left" data-fragment-index="3">
							We perform both those steps <b>on the fly</b> and in <b>real-time</b>, <br/> thanks to the <b>GPU</b> parallelism
						</p>
                                                <img src="img/pipeline_full.png" class="imgNoBorder fragment" width="75%" data-fragment-index="3"/>

                                                <aside class="notes">
                                               ++ Here you can see our GPU pipeline<br/>
                                               ++ The GPU gets as input a list of datas, deals with each item in parallel, and return a new list of datas<br/>
                                               ++ Example, receive a bunch of triangles, rasterize each one individually and returns the list of colored pixels<br/>
                                               ++ Limitation, each data must go through the same processing<br/>
                                                </aside>
				</section>

				<section slide-title="Isosurface Extraction">
						<h2>Real Time GPU Isosurface Extraction</h2>
						<p align="left"> The most known and used solution is <b>Marching Cubes</b> <small><a href="http://dx.doi.org/10.1145/37402.37422">[LC87]</a></small> </p>
						<ul>
							<li align="left" /> Grid division of the scene
							<li align="left" /> Precomputed triangles patch
							<li align="left" /> <b>Independent</b> triangulation of each cell
							<li align="left" /> <b>Highly parallel</b>
						</ul>
						<img src="img/mc_tables.png" width="300" class="imgNoBorder" /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<img src="img/mc_sample.png" width="300" class="imgNoBorder" />

                                                <aside class="notes">
                                                ++ Marching Cubes divides the scene in a regular grid<br/>
                                                ++ Then, for each cell it determined if it's corners are inside or outside of the object<br/>
                                                ++ For this it computes a code for the cell, and therefore can look up its triangulation in a precomputed triangulation table<br/>
                                                ++ The final mesh is thus made of a list of triangle patches, one for each cell of the regular gris<br/>
                                                </aside>

				</section>

				<section>
					<h2>Marching Cubes</h2>

					<p align="left" /><b><font color="green">GPU loves Marching Cubes</font></b></p>
					<div class="fragment">
						<p align="left" /><b><font color="green">Vertices aligned with surfels center</font></b></p>

					<img src="img/digital_object_points.svg" width="150" class="imgNoBorder" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<img src="img/digital_object_mcgrid.svg" width="150" class="imgNoBorder" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<img src="img/digital_object_mctgl.svg" width="150" class="imgNoBorder" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<img src="img/digital_object_mctgl_surfels.svg" width="150" class="imgNoBorder" />
					</div>

					<div class="fragment">
					<p align="left" ><b><font color="red">Regular Grid</font></b></p>
					<ul align="left" >
						<li/> High number of triangles
						<li/> Some of them too far to be visible from the camera, or even behind it
					</ul>
					</div>

                                        <aside class="notes">
                                        ++ GPU MC, input grid cells, output triangles<br/>
                                        ++ Vertices aligned with surfels center, very useful since curvature is defined on surfel centers<br/>
                                        </aside>

				</section>

				<section>

					<h2>Adaptive Marching Cubes</h2>
					<p align="left">There exists a lot of algorithms to do Marching Cube based adaptive Isosurface Extraction</p>
					<ul>
                                                <li/> Dual Marching Cubes<small><a href="http://dl.acm.org/citation.cfm?id=1034484">[Nie04]</a></small>
                                                <li/> Tetrahedral Grids<small><a href="http://onlinelibrary.wiley.com/doi/10.1111/cgf.12462/full">[SBD14]</a></small>
						<li/> ...
					</ul>

                                        <p align="left">But to be able to fully exploit the <b>GPU's parallelism</b>, there are two conditions</p>
                                        <ul>
                                            <li/> We need an algorithm performing <b>independent</b> actions on each cell
                                            <li/> We need to <b>avoid conditional branching</b> as much as possible
                                        </ul>

                                        <aside class="notes">
                                        ++ None of the usual elegant methods fulfill those conditions<br/>
                                        </aside>
	
				</section>


				<section>
                                        <h2>Transvoxels <small><a href="http://dl.acm.org/citation.cfm?id=1925140">[Len10]</a></small></h2>
                                        <p align="left">Adaptation of Marching Cubes to use it with an <b>octree</b> instead of the regular grid</p>

                                        <img src="img/mc_octree.png" width="300" class="imgNoBorder" />

                                        <img src="img/figure_solo_cracks.png" width="500" class="imgNoBorder" />

                                        <p class="fragment" ><b><font color="#5f5f5f">Uses a <b>modified Marching Cubes</b> algorithm to patch the cracks</font></b></p>

                                        <aside class="notes">
                                        ++ We need to either avoid the cracks => complex algorithms that are not GPU frienly<br/>
                                        ++ Or we fill them with more triangles => much more GPU suited<br/>
                                        </aside>
				</section>

				<section>
                                        <h2>Transition cells</h2>
					<p><img src="img/transvoxels_transition0.png" height="250" class="imgNoBorder" />
					<img src="img/transvoxels_transition1.png" height="250" class="imgNoBorder" /></p>
					<img src="img/figure_cracks.png" width="700" class="imgNoBorder" />

                                        <aside class="notes">
                                        ++ Insert transition cells between regular cells of != resolution<br/>
                                        ++ Triangulate them by looking them up in a triangulation table as MC<br/>
                                        ++ GPU friendly
                                        </aside>

				</section>

				<section>
                                                <h2>Moving Transvoxels the GPU</h2>

                                                <!--<img align="right" src="img/octree.svg" height="250" class="imgNoBorder"/>-->

                                                <p align="left">Transvoxels was meant for a CPU implementation</p>
                                                <p align="left"><strong>GPU can't handle recursivity</strong>, so the octree is a major issue</p>

						<p align="left"> Derecursifying the octree
						<small><a href="http://dl.acm.org/citation.cfm?id=358741">[Gar82]</a></small>
						<small><a href="https://www.crcpress.com/GPU-Pro-5-Advanced-Rendering-Techniques/Engel/9781482208634">[DIP14]</a>
						<a href="http://onlinelibrary.wiley.com/doi/10.1111/j.1467-8659.2010.01775.x/full">[LMP*10]</a></small></p>
						<p align="left"> Morton codes, each cell encode its path to the root </p>
                                                <img src="img/morton_example.svg" width="70%" class="imgNoBorder" />
						<p align="left"> The whole tree is represented by a list of its leaves as <b>uncorrelated</b> nodes</p>
                                                <img src="img/node_list.svg" width=40%" class="imgNoBorder" />

                                            <aside class="notes">
                                            ++ Only non GPU friendly thing => octree<br/>
                                            ++ Morton codes grows a new digit for each level of subdivision<br/>
                                            ++ Each nth digit encodes wich part of space contains the cell at the nth level of subdivision<br/>
                                            ++ Independent processing of each node<br/>
                                            </aside>
				</section>

				<section>
					<h2>Quadtrees on the GPU</h2>
					<div style="float:left">
					<p align="left">Every time the camera moves, we update <br/> the tree</p>
					<ul>
						<li class="fragment" data-fragment-index="1"/>The cell is <b>kept</b>
						<li class="fragment" data-fragment-index="2"/>The cell is <b>merged</b>
						<li class="fragment" data-fragment-index="3"/>The cell is <b>subdivided</b>
					</ul>
					</div>
					<div style="float:right">
					<img align="right" src="img/keep.svg" width="300" class="fragment imgNoBorder" data-fragment-index="1" /><br style="display: block; margin:-20px;"/>
					<img align="right" src="img/merge.svg" width="300" class="fragment imgNoBorder"  data-fragment-index="2"/><br style="display: block; margin:-20px;"/>
					<img align="right" src="img/subdivide.svg" width="300" class="fragment imgNoBorder" data-fragment-index="3" /><br style="display: block; margin:-20px;"/>
					</div>

                                        <aside class="notes">
                                        ++ Reuse the current octree<br/>
                                        ++ Leaves the question on the condition for keep, merge and subdivision of cells
                                        </aside>
				</section>

                                <section>
                                                <h2>Subdivision criteria</h2>
                                                <img align="right" src="img/criterion.svg" height="300" class="imgNoBorder" />
                                                <p align="left"> Based on a <b>radial distance to the camera</b><br/>

                                                <p align="left"> Projected screen size at distance d
                                                <script type="math/tex; mode=display">
                                                \small
                                                                s(\text{d}) = \tan(\alpha) * \text{d}
                                                </script>
                                                </p>

                                                <p align="left"> Radial distance measure
                                                <script type="math/tex; mode=display">
                                                    \small
                                                        d = z +
                                                                \begin{cases}
                                                                        w \cdot z \cdot (\theta - \alpha) 	& \text{if } \theta \geq \alpha\\
                                                                        0	              		    			& \text{else.}
                                                                \end{cases}
                                                </script>
                                                </p>

                                                <img src="img/viewlod2_small.png" height="200" class="imgNoBorder" />
                                </section>

				<section>
					<h2>Isosurface Extraction</h2>
                                        <img align="right" src="img/tgl.png" width="50%" class=" imgNoBorder"/>
					<ul>
					<li/> <b><font color="green">Straightforward</font></b>
						<ul>
							<li/> Two Marching Cubes
						</ul>
					<li/> <b><font color="green">Real time</font></b>
						<ul>
							<li/> Adaptivity
						</ul>
					<li/> <b><font color="green">Animated datasets</font></b>
					<li/> <b><font color="red">Bad quality</font></b>
						<ul>
                                                        <li/> Normal vectors from curvature tensor
                                                        <li/> Curvature measured on the digital object
						</ul>
					</ul>

				</section>

				<section>
                                    <h2>Pipeline</h2>
                                    <img src="img/pipeline_step1.png" width="800" class="imgNoBorder" />
				</section>

                                <section slide-title="Curvature estimation">
                                        <h2>Digital estimator of <strong>mean curvature</strong></h2>
                                        <div style="float:left;width:38%;">
                                                <img src="img/integral3D.svg" class="imgNoBorder" />
                                        </div>
                                        <div style="float:right;width:60%;">
                                                <blockquote class="theorem" cite="" style="width:100%;font-size:70%;text-align:left;">
                                                        Be $\Shape$ a convex shape in $\R^3$ so that its boundary $\dS$ is $C^3$ with a bounded positive curvature..<br/><br/>
                                                        $ Y = \Ball{R/h}{\vx/h} \cap \DigF{\Shape}{h} $<br/><br/>
                                                        $ {\color{myblue}\VolC(Y)} \ \EqDef \ h^3 \text{Card} (Y) $<br/><br/>
                                                        $ \MeanCurvH{R}(\DigF{\Shape}{h},\vx,h) \ \EqDef \ \frac{8}{3{{R}}} - \frac{4 {\color{myblue}\VolC(Y)}}{\pi R^4} $
                                                </blockquote>
                                        </div>

                                        <blockquote class="theorem" cite="" style="clear:both;width:100%;font-size:80%;text-align:right;">
                                                \[ \color{myred}
                                                \left| \MeanCurvH{R}(\DSh,\hat{\vx},h) - \MeanCurv(\Shape,\vx) \right| \le O\left(h^\frac{1}{3}\right) \quad\text{quand}\quad R=kh^\frac{1}{3}
                                                \]
                                                <a href="#" class="citation">[CVIU 2014][AFIG 2014]</a>
                                        </blockquote>

                                        <aside class="notes">
                                        ++ Chose to use the Integral Invariants curvature estimators<br/>
                                        ++ Let a ball slide on the object surface and compute volume ration between the ball and the ball-object intersection
                                        ++ Counting voxels inside the ball is enough to solve the equation
                                        </aside>

                                </section>

                                <section>
                                
										<section>
                                        <h2>Digital estimators of <strong>principal curvatures</strong></h2>
                                        <div style="float:left;width:40%;">
                                                <img src="img/integral3D.svg" class="imgNoBorder" />
                                        </div>
                                        <div style="float:left;width:58%;">
                                                <blockquote cite="" style="width:88%;font-size:70%;background: rgba(0, 0, 255, 0.05);text-align:left;">
                                                        Be $\Shape$ a convex shape in $\R^3$ so that its boundary $\dS$ is $C^3$ with a bounded positive curvature..<br/><br/>
                                                        $Y = \Ball{R/h}{\vx/h} \cap \DigF{\Shape}{h}$<br/><br/>
                                                        ${\color{myblue}\DMom{pqs}{h}(Y)} \ \EqDef \ h^{3+p+q+s} \sum y_1^{p} y_2^{r} y_3^{s}$
                                                </blockquote>
                                        </div>

                                        <blockquote cite="" style="clear:both;width:88%;font-size:60%;background: rgba(0, 0, 255, 0.05);">
                                                \[
                                                        {\color{myblue}\text{Cov}{h}(Y)} \ \EqDef \ \left\lbrack{\color{myblue}
                                                                        \begin{array}{ccc}
                                                                                \DMom{200}{h}(Y) & \DMom{110}{h}(Y) & \DMom{101}{h}(Y)\\
                                                                                \DMom{110}{h}(Y) & \DMom{020}{h}(Y) & \DMom{011}{h}(Y)\\
                                                                                \DMom{101}{h}(Y) & \DMom{011}{h}(Y) & \DMom{002}{h}(Y)
                                                                        \end{array}}
                                                                        \right\rbrack
                                                                        - \frac{1}{\color{myblue}\DMom{000}{h}(Y)}
                                                                        \left\lbrack{\color{myblue}
                                                                        \begin{array}{c}
                                                                                \DMom{100}{h}(Y) \\
                                                                                \DMom{010}{h}(Y) \\
                                                                                \DMom{001}{h}(Y) \\
                                                                        \end{array}}
                                                                        \right\rbrack
                                                                        \otimes
                                                                        \left\lbrack{\color{myblue}
                                                                        \begin{array}{c}
                                                                                \DMom{100}{h}(Y) \\
                                                                                \DMom{010}{h}(Y) \\
                                                                                \DMom{001}{h}(Y) \\
                                                                        \end{array}}
                                                                        \right\rbrack^T
                                                \]
                                        </blockquote>

                                        <aside class="notes">
                                        ++ If we also store mmt or order 2, we can sum those moments and get the whole curvature tensor
                                        </aside>
                                        </section>
                                        
                                        <section>
											<h2>Estimateurs digitaux des <strong>courbures principales</strong></h2>
											<div style="float:left;width:38%;">
												<img src="img/integral3D.svg" class="imgNoBorder" />
											</div>
											<div style="float:right;width:60%;">
												<blockquote class="theorem" cite="" style="width:100%;font-size:70%;text-align:left;">
													\[
														\begin{align}
															&\PrincCurvH{1}{R}(\DSh,\vx,h) \EqDef \frac{6}{\pi R^6}\left({\color{myblue}\hat{\lambda}_2} - 3{\color{myblue}\hat{\lambda}_1}\right) + \frac{8}{5R}\\
															&\PrincCurvH{2}{R}(\DSh,\vx,h) \EqDef \frac{6}{\pi R^6}\left({\color{myblue}\hat{\lambda}_1} - 3{\color{myblue}\hat{\lambda}_2}\right) + \frac{8}{5R}\\
															&\PrincDirH{1}{R}(\DSh,\vx,h) \EqDef {\color{myblue}\hat{\nu}_1}\\
															&\PrincDirH{2}{R}(\DSh,\vx,h) \EqDef {\color{myblue}\hat{\nu}_2}\\
															&\NormalDirH{R}(\DSh,\vx,h) \EqDef {\color{myblue}\hat{\nu}_3}
														\end{align}
													\]

													<!-- $\PrincCurvH{1}{R}(\DigF{\Shape}{h},\vx,h) \EqDef \frac{6}{\pi R^6}({\color{myblue}\hat{\lambda}_2} - 3{\color{myblue}\hat{\lambda}_1}) + \frac{8}{5 R}$<br/>
													$\PrincCurvH{2}{R}(\DigF{\Shape}{h},\vx,h) \EqDef \frac{6}{\pi R^6}({\color{myblue}\hat{\lambda}_1} - 3{\color{myblue}\hat{\lambda}_2}) + \frac{8}{5 R}$<br/>
													$\PrincDirH{1}{R}(\DigF{\Shape}{h},\vx,h) \EqDef $ -->
												</blockquote>
											</div>

											<blockquote class="theorem" cite="" style="clear:both;text-align:right;width:100%;font-size:80%;">
												\[ \color{myred}
												\left| \PrincCurvH{i}{R}(\DSh,\hat{\vx},h) - \PrincCurv{i}(\Shape,\vx) \right| \le O\left(h^\frac{1}{3}\right) \quad\text{quand}\quad R=kh^\frac{1}{3}
												\]
												<a href="#" class="citation">[CVIU 2014][AFIG 2014]</a>
											</blockquote>
										</section>

                                </section>


                                <!--
                                <section slide-title="Curvature Computation">
					<h2>Integral Invariants</h2>
					<p align="left" >Let a ball slide along the border of the object $X$</p>
					<p align="left" >Computes the curvature as a ratio between the <b>ball volume </b> $\Ball{R/h}{\vx/h}$ and the <b>object volume inside the ball</b>
					$Y = \Ball{R/h}{\vx/h} \cap Z, h$</p>

					<p>
					<br/>
					<script type="math/tex; mode=display">
					\MeanCurvH{R}(Z,\vx,h)\ \EqDef\ \frac{8}{3R}
					- \frac{4\VolC(Y)}{\pi R^4}
					</script>
					</p>
					<img src="img/digital_curvature.png" width="400" class="imgNoBorder" />
				</section>
				
				<section>
					<h2>Integral Invariants</h2>
					<p align="left" >Summing moments instead of counting voxels to fill a covariance Matrix</p>

					<p>
                                        <script type="math/tex; mode=display">
						{\color{myblue}\text{Cov}_h(Y)} \ \EqDef \left\lbrack{\color{myblue}
								\begin{array}{ccc}
									\DMom{200}{h}(Y) & \DMom{110}{h}(Y) & \DMom{101}{h}(Y)\\
									\DMom{110}{h}(Y) & \DMom{020}{h}(Y) & \DMom{011}{h}(Y)\\
									\DMom{101}{h}(Y) & \DMom{011}{h}(Y) & \DMom{002}{h}(Y)
								\end{array}}
								\right\rbrack
								- \frac{1}{\color{myblue}\DMom{000}{h}(Y)}
								\left\lbrack{\color{myblue}
								\begin{array}{c}
									\DMom{100}{h}(Y) \\
									\DMom{010}{h}(Y) \\
									\DMom{001}{h}(Y) \\
								\end{array}}
								\right\rbrack
								\otimes
								\left\lbrack{\color{myblue}
								\begin{array}{c}
									\DMom{100}{h}(Y) \\
									\DMom{010}{h}(Y) \\
									\DMom{001}{h}(Y) \\
								\end{array}}
								\right\rbrack^T
						
					</script>
                                        </p>
					
					<p align="left" >Full curvature tensor</p>
					
                                        <p>
						\[
								\begin{align}
									&\PrincCurvH{1}{R}(\DSh,\vx,h)\ \EqDef\  \frac{6}{\pi R^6}\left({\color{myblue}\hat{\lambda}_2} - 3{\color{myblue}\hat{\lambda}_1}\right) + \frac{8}{5R}\\
									&\PrincCurvH{2}{R}(\DSh,\vx,h)\  \EqDef\  \frac{6}{\pi R^6}\left({\color{myblue}\hat{\lambda}_1} - 3{\color{myblue}\hat{\lambda}_2}\right) + \frac{8}{5R}\\
									&\PrincDirH{1}{R}(\DSh,\vx,h)\  \EqDef\  {\color{myblue}\hat{\nu}_1}\\
									&\PrincDirH{2}{R}(\DSh,\vx,h)\  \EqDef\  {\color{myblue}\hat{\nu}_2}\\
									&\NormalDirH{R}(\DSh,\vx,h)\  \EqDef\  {\color{myblue}\hat{\nu}_3}
								\end{align}
							\]
					</p>
					
					</p>
                                </section>
                                -->
				
				<section>
                                <h2>Curvature computation</h2>

                                                <!--<p>
						<script type="math/tex; mode=display">

						\MeanCurvH{R}(Z,\vx,h)\ \EqDef\ \frac{8}{3R}
						- \frac{4\VolC(\Ball{R/h}{\vx/h} \cap
						Z, h)}{\pi R^4}
						</script>
                                                </p>-->

                                                <img align="right" src="img/tgl_dgtal_curvature.svg" width="40%" class="imgNoBorder" />

                                                <div style="width:50%;">
                                                <p align="left">The vertices of the mesh serve only as centers for the ball since they are aligned with surfels center. </p>
                                                <p align="left"> <b>Exact curvature</b> </p>
                                                <p align="left">The curvature tensor is obtained by counting the digital points <b>from the digital object</b> that intersect the ball and summing their moments.</p>
                                                </div>

                                                <p class="fragment"><b><font color="red"><br/>A LOT of memory fetches</font></b></p>

                                                <p>
						<img src="img/Octa_mean.png" height="170" class="imgNoBorder" />
						<img src="img/Octa_dir_max.png" height="170" class="imgNoBorder" />
						<img src="img/Octa_dir_min.png" height="170" class="imgNoBorder"  />
						<img src="img/Octa_normal.png" height="170" class="imgNoBorder" />
						</p>

				</section>

                    <section>

                    <h2>Reducing the number of texture accesses</h2>
                                        <p align="left"><br/>The digital dataset is loaded on the GPU as a texture</p>
                                        <p align="left"><br/>We can exploit the GPU capacities for texture filtering</p>

                                        <p><b>Mipmaps</b></p>

					<img src="img/mipmaps.png" height="150" class="imgNoBorder" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<img src="img/mip.svg" height="100" class="imgNoBorder" />
					

					<p>
					<img src="img/mip2.png" height="150" class="imgNoBorder" />
					<img src="img/mip1.png" height="150" class="imgNoBorder" />
					<img src="img/mip0.png" height="150" class="imgNoBorder" />
					</p>
					
					

				</section>

				<section>
					<h2>Hierachical subdivision</h2>
					<img src="img/approx-hierarchical.svg" height="200" class="imgNoBorder" />
					<p> <b><font color="green">Would be exact</b></font> </p>
					<p> <b><font color="green">Would reduce the number of memory fetches</b></font> </p>
					<p> <b><font color="red">Is not at all suited for the GPU</b></font> </p>
					<p> <b><font color="red">Is as slow as the naive version</b></font> </p>
				</section>

				<section>
                                        <h2>Regular subdivision with refinement</h2>

                                                <!--<p>
                                                <script type="math/tex; mode=display">
						\MeanCurvH{R}(Z,\vx,h)\ \EqDef\ \frac{8}{3R}
						- \frac{4\VolC(\Ball{R/h}{\vx/h} \cap
						Z, h)}{\pi R^4}
                                                </script>
                                                </p>-->

                                                <img align="right" src="img/tgl_dgtal_approx_curvature.svg" width="40%" class="imgNoBorder" />

                                                <div style="width:50%;">
                                                <p align="left">The curvature tensor at a level <b>$l$</b> is obtained by summing the digital densities of the <b>filtered digital points</b> that intersect the ball and summing their <b>filtered moments</b>.</p>
                                                <p align="left">Automatic refinement by decreasing <b>$l$</b></p>
                                                </div>

                                                <p class="fragment" ><br/><b><font color="green">Fewer memory fecthes when $l>0$ </font></b></p>

						<div style="width:100%;display:block;">
                                                        <p> <br/><br/> </p>
							<img src="img/octa_r10_l3_a.png" width="200" class="imgNoBorder"/>
							<img src="img/octa_r10_l2_a.png" width="200" class="imgNoBorder"/>
							<img src="img/octa_r10_l1_a.png" width="200" class="imgNoBorder"/>
							<img src="img/octa_r10_l0_a.png" width="200" class="imgNoBorder"/>
						</div>
						<div style="width:100%;display:block;margin-top:-50px;">
							<div style="margin-left:7px;width:200px;float:left;">$l_3$</div>
							<div style="width:200px;float:left;">$l_2$</div>
							<div style="width:200px;float:left;">$l_1$</div>
							<div style="width:200px;float:left;">$l_0$</div>
						</div>

				</section>

				<section>
					<h2>Refinement over time </h2>
					<p align="left">Keeping an exact curvature visualization while maintaining an interactive manipulation of the object</p>
					<p align="left">Computing an approximation and <b>refining</b> it when there is FPS available</p>
					<p align="left">At each frame:</p>
                                        <div style="margin-left:25%;float:center;text-align:left;">
                                        <ol align="center">
                                                        <li/> <p align="left"><b><font color="#5f5f5f">If</font></b> there has been an update of the scene<b><font color="#5f5f5f">{ $l=Max$ }</font></b></p>
                                                        <p align="c"><b><font color="#5f5f5f">Else</font></b> <b><font color="#5f5f5f">{ $l=l-1$ }</font></b></p>
                                                        <li/> <p align="left">Approximate curvature <b><font color="#5f5f5f">at level $l$</font></b></p>
					</ol>
                                        </div>
				</section>

				<section>
						<h2>Pipeline</h2>
						<img src="img/pipeline_full.png" width="800" class="imgNoBorder" />
				</section>

				<section>
					<h1>Demo !</h1>
				</section>

                                <section slide-title="Results">
                                        <h2>Results</h2>

                                        <div style="width:40%;display:block;float:left;text-align:left;">
                                                <p style="color:#FFA500">Orange : Adaptive isosurface extraction</p>
                                                <p style="color:#08519C">Dark Blue : Exact curvature computation</p>
                                                <p style="color:#A6BBDF">Lighter Blue : Approximated curvature computation</p>
                                        </div>
                                        <div style="width:60%;display:block;float:right;">
                                                <img align="right" src="img/timings.svg" class="imgNoBorder" />
                                        </div>
                                        <div style="width:50%;display:block;clear:both;float:left;margin-top:-50px;">
                                                <div width="100%" style="text-align:center;">
                                                        <img src="img/Octa_mean.png" class="imgNoBorder" style="width:25%;" />
                                                        <img src="img/233snow_mean.png" class="imgNoBorder" style="width:25%;" />
                                                        <img src="img/teaser.png"    class="imgNoBorder" style="width:30%;" />
                                                </div>
                                                <div width="100%" style="text-align:center;font-size:75%;">
                                                        <span style="display:block;margin-left:15%;width:15%;float:left;">$128^3$</span>
                                                        <span style="display:block;margin-left:10%;width:20%;float:left;">$233^3$</span>
                                                        <span style="display:block;margin-left:10%;width:20%;float:left;">$512^3$</span>
                                                </div>
                                                <div width="100%" style="text-align:center;font-size:75%;">
                                                        <span style="float:left;width:15%;">CPU:</span>
                                                        <span style="display:block;width:20%;float:left;">~25 sec</span>
                                                        <span style="display:block;margin-left:5%;width:20%;float:left;">~15 min</span>
                                                        <span style="display:block;margin-left:10%;width:20%;float:left;">~6 min</span>
                                                </div>
                                        </div>

                                </section>

				<section>

					<h2>Visualizing curvature</h2>
					<p>in <strong>real-time</strong></p>
					<p>refined to <strong>exact curvature</strong></p>
					<p>making it easy to <strong>explore parameters</strong></p>
					<p>thanks to the <strong>GPU !</strong></p>

				</section>

				<section>

					<img src="img/dragon_r8.png" height="200" class="imgNoBorder" />
					<img src="img/dragon_r8_max.png" height="200" class="imgNoBorder" />
					<img src="img/dragon_r8_normales.png" height="200" class="imgNoBorder" />

					<h2><br/> Thanks for listening ! <br/> Questions ? </h2>
					<p>Follow us on github <a href="https://github.com/dcoeurjo/ICTV">https://github.com/dcoeurjo/ICTV</a>!</p>

					<div style="margin-top:20px;">
					
						<div style="font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dl.acm.org/citation.cfm?id=358741">[Gar82]</a>
						</div>
						<div style="font-size:12px; float:left; width:90%; text-align:left;">
							Gargantini, I. (1982) “An effective way to represent quadtrees”. Communications of the ACM
						</div>
						
						<div style="font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dx.doi.org/10.1145/37402.37422">[LC87]</a>
						</div>
						<div style="font-size:12px; float:left; width:90%; text-align:left;">
							Lorensen, W. E.; Cline, Harvey E. (1987). "Marching cubes: A high resolution 3d surface construction algorithm". ACM Computer Graphics
						</div>
						
						<div style="font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dl.acm.org/citation.cfm?id=1034484">[Nie04]</a>
						</div>
						<div style="font-size:12px; float:left; width:90%; text-align:left;">
							Nielson, G. M. (2004) “Dual marching cubes”. Proceedings of the conference on Visualization'04
						</div>

						<div style="clear:both; font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dx.doi.org/10.1016/j.cagd.2004.09.004">[CP05]</a>
						</div>
						<div style="font-size:12px; float:left; width:calc(100% - 75px); text-align:left;">
							Cazals, F., Pouget, M. (2005). “Estimating differential quantities using polynomial fitting of osculating jets”. Computer Aided Geometric Design
						</div>

						<div style="clear:both; font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dx.doi.org/10.1007/978-3-540-79126-3_33">[MBF08]</a>
						</div>
						<div style="font-size:12px; float:left; width:calc(100% - 75px); text-align:left;">
							Malgouyres, R., Brunet, F., Fourey, S. (2008). “Binomial Convolutions and Derivatives Estimation from Noisy Discretizations”. Discrete Geometry for Computer Imagery
						</div>
						
						<div style="font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://onlinelibrary.wiley.com/doi/10.1111/j.1467-8659.2010.01775.x/full">[LMP*10]</a>
						</div>
						<div style="font-size:12px; float:left; width:90%; text-align:left;">
							Lewiner, T., Mello, V., Peixoto, A., Pesco, S., Lopes, H. (2010) “Fast generation of pointerless octree duals”. Computers Graphics Forum
						</div>

						<div style="clear:both; font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dl.acm.org/citation.cfm?id=1925140">[Len10]</a>
						</div>
						<div style="font-size:12px; float:left; width:auto; text-align:left;">
							Lengyel, E.S., Owens, J.D. (2010). “Voxel-based terrain for real-time virtual simulations”. University of California
						</div>

						<div style="clear:both; font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dx.doi.org/10.1016/j.cviu.2014.04.013">[CLL14]</a>
						</div>
						<div style="font-size:12px; float:left; width:calc(100% - 75px); text-align:left;">
							Coeurjolly, D., Lachaud, J.O., Levallois, J. (2014) “Multigrid convergent principal curvature estimators in digital geometry.” Computer Vision and Image Understanding.
						</div>

						<div style="clear:both; font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dx.doi.org/10.1201/b16721-33">[DIP14]</a>
						</div>
						<div style="font-size:12px; float: left; width:auto; text-align:left;">
							Dupuy, J., Iehl, J.C., Poulin, P. (2014) : “Quadtrees on the GPU.” GPU Pro 5, chap.
						</div>

						<div style="clear:both; font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dx.doi.org/10.1007/978-3-319-09955-2_14">[LCL14]</a>
						</div>
						<div style="font-size:12px; float:left; width:calc(100% - 75px); text-align:left;">
							Levallois, J., Coeurjolly, D., Lachaud, J.O. (2014) “Parameter-free and multigrid convergent digital curvature estimators.” Discrete Geometry for Computer Imagery.
						</div>

						<div style="font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://dx.doi.org/10.1016/j.cag.2015.05.023">[LCL15]</a>
						</div>
						<div style="font-size:12px; float:left; width:90%; text-align:left;">
							Levallois, J., Coeurjolly, D., Lachaud, J.O. (2015) “Scale-space feature extraction on digital surfaces”. Computers and Graphics
						</div>
						
						<div style="font-size:12px; float:left; width:75px; text-align:left;">
							<a href="http://onlinelibrary.wiley.com/doi/10.1111/cgf.12462/full">[SBD14]</a>
						</div>
						<div style="font-size:12px; float:left; width:90%; text-align:left;">
							Scholz, M., Bender, J., Dachsbacher, C. (2014) “Real-Time Isosurface Extraction With View-Dependent Level of Detail and Applications”. Computers Graphics Forum
						</div>
						
					</div>

				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				slideNumber: 'h.v/t',

				transition: 'none', // none/fade/slide/convex/concave/zoom
				transitionSpeed: 'fast',

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/math/math.js', async: true }
				]
			});

		</script>

	</body>
</html>

